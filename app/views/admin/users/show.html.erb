<%= link_to "Back", admin_users_path %>
<br><br>
<h1>User</h1>
<h3>First name: <%= @user.first_name %></h3>
<h3>Last name: <%= @user.last_name %></h3>
<h3>Email: <%= @user.email %></h3>
<h3>Role: <%= @user.role.name %></h3>
<br><br>

<div class="row">
  <div class="col-md-6">

    <h2>Update Role</h2>

    <%= form_with(model: [:admin, @user], method: "put", data: { turbo: false }) do |form| %>
      <div class="field mb-3">
        <%= form.label :role_id, "Role", class: "form-label" %>
        <%= form.select :role_id, Role.all.map { |r| [r.name, r.id] }, {}, class: "form-select" %>
      </div>
      <div class="actions">
        <%= form.submit "Update", class: "btn btn-primary" %>
      </div>
    <% end %>

    <br><br>

    <h2>Delete User</h2>
    <%= button_to "Delete", admin_user_path(@user), method: :delete, data: {turbo_method: :delete, turbo_confirm: 'Are you sure?'}, class: "btn btn-danger" %>

  </div>
</div>
